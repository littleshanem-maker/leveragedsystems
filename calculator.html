<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Variation Leakage Calculator ‚Äî Leveraged Systems</title>
<meta name="description" content="Find out how much money your construction business is losing to undocumented variations. Free calculator for Victorian subcontractors.">
<meta property="og:title" content="Variation Leakage Calculator ‚Äî How Much Are You Losing?">
<meta property="og:description" content="Plug in your numbers. See exactly what undocumented variations are costing your business every year.">
<meta property="og:url" content="https://leveragedsystems.com.au/calculator.html">
<link rel="icon" type="image/png" href="/favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap" rel="stylesheet">

<style>
:root {
  --bg-dark: #0f172a;
  --bg-surface: #1e293b;
  --bg-card: #263348;
  --accent: #3b82f6;
  --accent-hover: #60a5fa;
  --text-primary: #f1f5f9;
  --text-secondary: #94a3b8;
  --border: rgba(255,255,255,0.08);
  --green: #22c55e;
  --red: #ef4444;
  --amber: #f59e0b;
  --radius: 16px;
  --radius-sm: 10px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg-dark);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
  line-height: 1.6;
}

/* ‚îÄ‚îÄ‚îÄ ANNOUNCEMENT BAR ‚îÄ‚îÄ‚îÄ */
.announce-bar {
  background: #FEF3C7;
  border-bottom: 1px solid #FDE68A;
  padding: 11px 24px;
  text-align: center;
  font-size: 14px;
  font-weight: 500;
  color: #92400E;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}
.announce-bar a {
  display: inline-block;
  background: #2563EB;
  color: #fff;
  padding: 5px 14px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 700;
  text-decoration: none;
  white-space: nowrap;
  transition: background 0.15s;
}
.announce-bar a:hover { background: #1D4ED8; }

/* ‚îÄ‚îÄ‚îÄ NAV ‚îÄ‚îÄ‚îÄ */
nav {
  position: sticky;
  top: 0;
  z-index: 100;
  padding: 20px 48px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(15,23,42,0.92);
  backdrop-filter: blur(24px);
  border-bottom: 1px solid var(--border);
}

.nav-logo {
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
}

.nav-logo-mark {
  width: 36px;
  height: 36px;
  background: var(--accent);
  border-radius: var(--radius-sm);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 14px;
  color: white;
  overflow: hidden;
}

.nav-logo-text {
  font-weight: 600;
  font-size: 18px;
  color: var(--text-primary);
}

.nav-links {
  display: flex;
  align-items: center;
  gap: 28px;
}

.nav-links a {
  text-decoration: none;
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 15px;
  transition: color 0.2s ease;
}

.nav-links a:hover { color: var(--text-primary); }

.nav-links a.active {
  color: var(--text-primary);
  font-weight: 600;
}

.nav-cta {
  background: var(--accent) !important;
  color: white !important;
  padding: 10px 20px;
  border-radius: var(--radius-sm);
  transition: all 0.2s ease !important;
}

.nav-cta:hover {
  background: var(--accent-hover) !important;
  transform: translateY(-1px);
}

/* ‚îÄ‚îÄ‚îÄ HAMBURGER ‚îÄ‚îÄ‚îÄ */
.nav-hamburger {
  display: none;
  flex-direction: column;
  gap: 5px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  z-index: 200;
}
.nav-hamburger span {
  display: block;
  width: 24px;
  height: 2px;
  background: var(--text-primary);
  border-radius: 2px;
  transition: all 0.25s ease;
  transform-origin: center;
}
.nav-hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
.nav-hamburger.open span:nth-child(2) { opacity: 0; transform: scaleX(0); }
.nav-hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

.mobile-menu {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(15,23,42,0.98);
  backdrop-filter: blur(24px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  padding: 80px 24px 24px;
  flex-direction: column;
  gap: 4px;
  z-index: 99;
}
.mobile-menu.open { display: flex; }
.mobile-menu a {
  text-decoration: none;
  color: #94a3b8;
  font-size: 16px;
  font-weight: 500;
  padding: 12px 0;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  transition: color 0.2s;
}
.mobile-menu a:hover { color: #f1f5f9; }
.mobile-menu a:last-child { border-bottom: none; }
.mobile-menu-cta {
  margin-top: 8px;
  background: #3b82f6 !important;
  color: white !important;
  text-align: center;
  border-radius: 8px;
  padding: 12px 0 !important;
  border-bottom: none !important;
}

/* ‚îÄ‚îÄ‚îÄ CALCULATOR CONTAINER ‚îÄ‚îÄ‚îÄ */
.calculator-container {
  padding: 80px 0 80px;
}

.calculator-inner {
  max-width: 820px;
  margin: 0 auto;
  padding: 0 24px;
}

/* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
.calculator-header {
  text-align: center;
  margin-bottom: 56px;
}

.calculator-badge {
  display: inline-block;
  background: rgba(239,68,68,0.12);
  color: var(--red);
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 24px;
  border: 1px solid rgba(239,68,68,0.2);
}

.calculator-title {
  font-size: clamp(30px, 5vw, 48px);
  font-weight: 700;
  margin-bottom: 16px;
  line-height: 1.2;
}

.calculator-subtitle {
  font-size: 19px;
  color: var(--text-secondary);
  max-width: 580px;
  margin: 0 auto;
  line-height: 1.6;
}

/* ‚îÄ‚îÄ‚îÄ INPUTS ‚îÄ‚îÄ‚îÄ */
.inputs-section {
  background: var(--bg-surface);
  border-radius: var(--radius);
  padding: 40px;
  margin-bottom: 32px;
  border: 1px solid var(--border);
}

.inputs-title {
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  margin-bottom: 32px;
}

.input-group {
  margin-bottom: 36px;
}

.input-group:last-child { margin-bottom: 0; }

.input-label {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 6px;
  display: block;
}

.input-description {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 20px;
  line-height: 1.5;
}

.slider-container { position: relative; margin: 8px 0; }

.slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: rgba(255,255,255,0.1);
  outline: none;
  -webkit-appearance: none;
  cursor: pointer;
}

.slider::-webkit-slider-thumb {
  appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(59,130,246,0.5);
  transition: all 0.15s ease;
}

.slider::-webkit-slider-thumb:hover {
  background: var(--accent-hover);
  transform: scale(1.15);
}

.slider::-moz-range-thumb {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: none;
  box-shadow: 0 2px 8px rgba(59,130,246,0.5);
}

.slider-value {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 12px;
}

.current-value {
  font-size: 20px;
  font-weight: 700;
  color: var(--accent);
}

.value-range {
  font-size: 13px;
  color: var(--text-secondary);
}

/* ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ */
.results-section {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 40px;
  margin-bottom: 32px;
  border: 1px solid rgba(239,68,68,0.15);
  opacity: 0;
  transform: translateY(16px);
  transition: all 0.5s ease;
}

.results-section.visible {
  opacity: 1;
  transform: translateY(0);
}

.results-header {
  text-align: center;
  margin-bottom: 40px;
  padding-bottom: 32px;
  border-bottom: 1px solid var(--border);
}

.dramatic-reveal {
  font-size: clamp(22px, 3.5vw, 30px);
  font-weight: 700;
  margin-bottom: 12px;
  line-height: 1.3;
}

.reveal-highlight {
  background: linear-gradient(120deg, var(--red), #ff6b6b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.results-subtitle {
  font-size: 16px;
  color: var(--text-secondary);
}

.results-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-bottom: 36px;
}

.result-card {
  background: var(--bg-surface);
  border-radius: var(--radius-sm);
  padding: 24px;
  border: 1px solid var(--border);
  text-align: center;
  transition: border-color 0.2s ease;
}

.result-card.highlight-card {
  border-color: rgba(34,197,94,0.3);
  background: rgba(34,197,94,0.05);
}

.result-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  margin-bottom: 10px;
  color: var(--text-secondary);
}

.result-value {
  font-size: clamp(22px, 3vw, 32px);
  font-weight: 700;
  margin-bottom: 8px;
  transition: all 0.3s ease;
}

.result-description {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.5;
}

.positive { color: var(--green); }
.negative { color: var(--red); }
.neutral { color: var(--accent); }
.amber { color: var(--amber); }

/* ‚îÄ‚îÄ‚îÄ ROI COMPARISON BAR ‚îÄ‚îÄ‚îÄ */
.roi-comparison {
  background: rgba(34,197,94,0.08);
  border: 1px solid rgba(34,197,94,0.2);
  border-radius: var(--radius-sm);
  padding: 24px 28px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  flex-wrap: wrap;
}

.roi-vs {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
}

.roi-item {
  text-align: center;
}

.roi-item-label {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  margin-bottom: 6px;
}

.roi-item-value {
  font-size: 22px;
  font-weight: 700;
}

.roi-divider {
  font-size: 24px;
  color: var(--text-secondary);
  font-weight: 300;
}

.roi-conclusion {
  font-size: 14px;
  color: var(--green);
  font-weight: 600;
  text-align: right;
  flex-shrink: 0;
}

/* ‚îÄ‚îÄ‚îÄ CTA SECTION ‚îÄ‚îÄ‚îÄ */
.cta-section {
  background: linear-gradient(135deg, rgba(59,130,246,0.08) 0%, rgba(59,130,246,0.03) 100%);
  border: 1px solid rgba(59,130,246,0.15);
  border-radius: var(--radius);
  padding: 48px 40px;
  text-align: center;
  margin-bottom: 32px;
}

.cta-eyebrow {
  font-size: 13px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--accent);
  margin-bottom: 16px;
}

.cta-title {
  font-size: clamp(24px, 3.5vw, 32px);
  font-weight: 700;
  margin-bottom: 14px;
  line-height: 1.25;
}

.cta-subtitle {
  font-size: 17px;
  color: var(--text-secondary);
  margin-bottom: 12px;
  max-width: 540px;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

.founding-pill {
  display: inline-block;
  background: rgba(245,158,11,0.12);
  color: var(--amber);
  border: 1px solid rgba(245,158,11,0.25);
  border-radius: 20px;
  font-size: 13px;
  font-weight: 600;
  padding: 6px 14px;
  margin-bottom: 28px;
}

.cta-buttons {
  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: center;
  max-width: 380px;
  margin: 0 auto 24px;
}

.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 16px 28px;
  border-radius: var(--radius-sm);
  font-weight: 700;
  font-size: 16px;
  text-decoration: none;
  transition: all 0.25s ease;
  width: 100%;
  background: var(--accent);
  color: white;
  border: none;
  cursor: pointer;
}

.btn-primary:hover {
  background: var(--accent-hover);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(59,130,246,0.3);
}

.btn-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 14px 28px;
  border-radius: var(--radius-sm);
  font-weight: 600;
  font-size: 15px;
  text-decoration: none;
  transition: all 0.25s ease;
  width: 100%;
  background: transparent;
  color: var(--text-secondary);
  border: 1px solid rgba(255,255,255,0.12);
  cursor: pointer;
}

.btn-secondary:hover {
  color: var(--text-primary);
  border-color: rgba(255,255,255,0.25);
}

.guarantee-note {
  font-size: 13px;
  color: var(--text-secondary);
}

/* ‚îÄ‚îÄ‚îÄ SHARE SECTION ‚îÄ‚îÄ‚îÄ */
.share-section {
  background: var(--bg-surface);
  border-radius: var(--radius);
  padding: 32px 40px;
  text-align: center;
  border: 1px solid var(--border);
  margin-bottom: 60px;
}

.share-title {
  font-size: 17px;
  font-weight: 600;
  margin-bottom: 8px;
}

.share-subtitle {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 20px;
}

.share-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  flex-wrap: wrap;
}

.btn-share {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 20px;
  border-radius: var(--radius-sm);
  font-weight: 600;
  font-size: 14px;
  text-decoration: none;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
}

.btn-share-linkedin {
  background: #0a66c2;
  color: white;
}
.btn-share-linkedin:hover {
  background: #004182;
  transform: translateY(-1px);
}

.btn-share-copy {
  background: var(--bg-card);
  color: var(--text-primary);
  border: 1px solid var(--border);
}
.btn-share-copy:hover {
  background: var(--bg-surface);
  border-color: rgba(255,255,255,0.2);
}

.copy-toast {
  display: none;
  font-size: 13px;
  color: var(--green);
  margin-top: 12px;
  font-weight: 500;
}

/* ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ */
footer {
  border-top: 1px solid var(--border);
  padding: 40px 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 14px;
  color: var(--text-secondary);
}

.footer-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.footer-mark {
  width: 28px;
  height: 28px;
  background: var(--accent);
  border-radius: 7px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 12px;
  color: white;
  overflow: hidden;
}

/* ‚îÄ‚îÄ‚îÄ REVEAL ANIMATION ‚îÄ‚îÄ‚îÄ */
.reveal {
  opacity: 0;
  transform: translateY(24px);
  transition: all 0.55s ease;
}
.reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ‚îÄ‚îÄ‚îÄ MOBILE ‚îÄ‚îÄ‚îÄ */
@media (max-width: 900px) {
  .nav-hamburger { display: flex; }
  .nav-links { display: none; }
}

@media (max-width: 640px) {
  nav { padding: 16px 20px; }
  .calculator-inner { padding: 0 16px; }
  .inputs-section, .results-section, .cta-section, .share-section { padding: 24px 20px; }

  .results-grid {
    grid-template-columns: 1fr;
    gap: 14px;
  }

  .roi-comparison {
    flex-direction: column;
    text-align: center;
    gap: 16px;
  }

  .roi-conclusion { text-align: center; }

  footer {
    padding: 28px 20px;
    flex-direction: column;
    gap: 12px;
    text-align: center;
  }
}
</style>
</head>
<body>

<!-- ANNOUNCEMENT BAR -->
<div class="announce-bar">
  ‚≠ê <strong>Founding Member Offer:</strong> Get Variation Shield at $299/mo ‚Äî locked for life. Early members only.
  <a href="https://buy.stripe.com/fZufZh10hb7Y2KwdhdfrW01">Claim before it closes ‚Üí</a>
</div>

<!-- NAV -->
<nav>
  <a href="index.html" class="nav-logo">
    <div class="nav-logo-mark"><img src="/images/logo.jpg" alt="LS" style="width:100%;height:100%;object-fit:cover;display:block;border-radius:8px;"></div>
    <span class="nav-logo-text">Leveraged Systems</span>
  </a>
  <div class="nav-links">
    <a href="index.html#products">Products</a>
    <a href="variation-shield.html">Variation Shield</a>
    <a href="/blog/">Blog</a>
    <a href="calculator.html" class="active">Calculator</a>
    <a href="https://app.leveragedsystems.com.au" style="font-weight:500;">Login</a>
    <a href="index.html#contact" class="nav-cta">Get in Touch</a>
  </div>
  <button class="nav-hamburger" aria-label="Menu" onclick="toggleMobileMenu()">
    <span></span><span></span><span></span>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <a href="index.html">Home</a>
  <a href="variation-shield.html">Variation Shield</a>
  <a href="/blog/">Blog</a>
  <a href="calculator.html">Calculator</a>
  <a href="https://app.leveragedsystems.com.au">Login</a>
  <a href="https://buy.stripe.com/fZufZh10hb7Y2KwdhdfrW01" class="mobile-menu-cta">Start Free Trial ‚Üí</a>
</div>

<!-- CALCULATOR -->
<div class="calculator-container">
  <div class="calculator-inner">

    <!-- HEADER -->
    <div class="calculator-header reveal">
      <div class="calculator-badge">üî¥ Free Leakage Check</div>
      <h1 class="calculator-title">How much are undocumented variations costing you?</h1>
      <p class="calculator-subtitle">Plug in your numbers. See the real cost. Most Victorian subcontractors are shocked by what they find.</p>
    </div>

    <!-- INPUTS -->
    <div class="inputs-section reveal">
      <div class="inputs-title">Your business numbers</div>

      <div class="input-group">
        <label class="input-label" for="variationsSlider">Variations per month</label>
        <p class="input-description">How many scope change directions, extra work orders, or verbal instructions does your team handle each month across all active projects?</p>
        <div class="slider-container">
          <input type="range" class="slider" id="variationsSlider" min="1" max="30" value="8">
        </div>
        <div class="slider-value">
          <span class="current-value" id="variationsValue">8 variations/month</span>
          <span class="value-range">1 ‚Üí 30</span>
        </div>
      </div>

      <div class="input-group">
        <label class="input-label" for="valueSlider">Average variation value</label>
        <p class="input-description">What's the typical dollar value of each variation? Think about your average ‚Äî not the big ones or the small ones.</p>
        <div class="slider-container">
          <input type="range" class="slider" id="valueSlider" min="500" max="60000" value="7500" step="500">
        </div>
        <div class="slider-value">
          <span class="current-value" id="valueValue">$7,500</span>
          <span class="value-range">$500 ‚Üí $60,000</span>
        </div>
      </div>

      <div class="input-group">
        <label class="input-label" for="agreementSlider">Pre-agreed rate (before work starts)</label>
        <p class="input-description">What percentage of those variations are formally agreed ‚Äî signed off or acknowledged in writing ‚Äî <em>before</em> you start the extra work?</p>
        <div class="slider-container">
          <input type="range" class="slider" id="agreementSlider" min="0" max="100" value="25">
        </div>
        <div class="slider-value">
          <span class="current-value" id="agreementValue">25% pre-agreed</span>
          <span class="value-range">0% ‚Üí 100%</span>
        </div>
      </div>

      <div class="input-group">
        <label class="input-label" for="disputeSlider">Of those unagreed ‚Äî how many get disputed at claim time?</label>
        <p class="input-description">When you submit a claim for variations you did without prior agreement, what percentage does the builder push back on or refuse to pay?</p>
        <div class="slider-container">
          <input type="range" class="slider" id="disputeSlider" min="0" max="100" value="40">
        </div>
        <div class="slider-value">
          <span class="current-value" id="disputeValue">40% get disputed</span>
          <span class="value-range">0% ‚Üí 100%</span>
        </div>
      </div>
    </div>

    <!-- RESULTS -->
    <div class="results-section" id="resultsSection">
      <div class="results-header">
        <h2 class="dramatic-reveal">You're losing <span class="reveal-highlight" id="totalLeakage">$0</span> per year to variation disputes.</h2>
        <p class="results-subtitle">Here's the full picture ‚Äî and what changes with a proper system.</p>
      </div>

      <div class="results-grid">
        <div class="result-card">
          <div class="result-label">Annual Variation Throughput</div>
          <div class="result-value neutral" id="revenueAtRisk">$0</div>
          <div class="result-description">Total value of all variations your team handles in a year</div>
        </div>

        <div class="result-card">
          <div class="result-label">Current Annual Loss</div>
          <div class="result-value negative" id="currentLeakage">$0</div>
          <div class="result-description">What you're losing to disputed and unagreed variations right now</div>
        </div>

        <div class="result-card">
          <div class="result-label">Recoverable with Documentation</div>
          <div class="result-value positive" id="recoverable">$0</div>
          <div class="result-description">Conservative estimate of what a proper evidence chain would let you recover</div>
        </div>

        <div class="result-card highlight-card">
          <div class="result-label">Cost of Variation Shield</div>
          <div class="result-value amber">$3,588/yr</div>
          <div class="result-description">$299/mo founding member rate ‚Äî locked for life</div>
        </div>
      </div>

      <!-- ROI COMPARISON -->
      <div class="roi-comparison">
        <div class="roi-vs">
          <div class="roi-item">
            <div class="roi-item-label">You Recover</div>
            <div class="roi-item-value positive" id="roiRecoverable">$0</div>
          </div>
          <div class="roi-divider">√∑</div>
          <div class="roi-item">
            <div class="roi-item-label">Annual Cost</div>
            <div class="roi-item-value amber">$3,588</div>
          </div>
          <div class="roi-divider">=</div>
          <div class="roi-item">
            <div class="roi-item-label">Return on Investment</div>
            <div class="roi-item-value positive" id="roiRatio">0√ó</div>
          </div>
        </div>
        <div class="roi-conclusion" id="roiConclusion">Variation Shield pays for itself.</div>
      </div>
    </div>

    <!-- CTA -->
    <div class="cta-section reveal">
      <div class="cta-eyebrow">Ready to stop the leakage?</div>
      <h2 class="cta-title">Get Variation Shield for your team</h2>
      <p class="cta-subtitle">Capture every variation with photos, timestamps, and acknowledgement ‚Äî in 60 seconds on site. Stop arguing at claim time.</p>
      <div class="founding-pill">‚ö° Founding Member: $299/mo locked for life</div>
      <div class="cta-buttons">
        <a href="https://buy.stripe.com/fZufZh10hb7Y2KwdhdfrW01" class="btn-primary">
          Start with Variation Shield
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </a>
        <a href="variation-shield.html" class="btn-secondary">
          See how it works first ‚Üí
        </a>
      </div>
      <p class="guarantee-note">30-day money-back guarantee. No lock-in. Cancel anytime.</p>
    </div>

    <!-- SHARE -->
    <div class="share-section reveal">
      <div class="share-title">Know another subbie who should see this?</div>
      <p class="share-subtitle">Most tradespeople don't realise how much they're losing until they see the number. Send them this.</p>
      <div class="share-buttons">
        <button class="btn-share btn-share-linkedin" onclick="shareLinkedIn()">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          Share on LinkedIn
        </button>
        <button class="btn-share btn-share-copy" onclick="copyLink()">
          <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
          Copy link
        </button>
      </div>
      <div class="copy-toast" id="copyToast">‚úì Link copied to clipboard</div>
    </div>

  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-left">
    <div class="footer-mark">
      <img src="/images/logo.jpg" alt="LS" style="width:100%;height:100%;object-fit:cover;display:block;border-radius:5px;">
    </div>
    <span style="font-weight:600;color:var(--text-primary);">Leveraged Systems</span>
    <span>‚Äî Tools for construction businesses</span>
  </div>
  <div>&copy; 2026 Leveraged Systems. All rights reserved.</div>
</footer>

<script>
// ‚îÄ‚îÄ‚îÄ CALCULATOR LOGIC ‚îÄ‚îÄ‚îÄ //

const VARIATION_SHIELD_ANNUAL = 3588; // $299 √ó 12

const sliders = {
  variations: document.getElementById('variationsSlider'),
  value: document.getElementById('valueSlider'),
  agreement: document.getElementById('agreementSlider'),
  dispute: document.getElementById('disputeSlider'),
};

const displays = {
  variations: document.getElementById('variationsValue'),
  value: document.getElementById('valueValue'),
  agreement: document.getElementById('agreementValue'),
  dispute: document.getElementById('disputeValue'),
};

const results = {
  section: document.getElementById('resultsSection'),
  totalLeakage: document.getElementById('totalLeakage'),
  revenueAtRisk: document.getElementById('revenueAtRisk'),
  currentLeakage: document.getElementById('currentLeakage'),
  recoverable: document.getElementById('recoverable'),
  roiRecoverable: document.getElementById('roiRecoverable'),
  roiRatio: document.getElementById('roiRatio'),
  roiConclusion: document.getElementById('roiConclusion'),
};

function fmt(n) {
  return new Intl.NumberFormat('en-AU', {
    style: 'currency', currency: 'AUD',
    minimumFractionDigits: 0, maximumFractionDigits: 0
  }).format(n);
}

function animateCount(el, target, isCurrency = true, suffix = '') {
  const duration = 900;
  const steps = 40;
  const step = target / steps;
  let current = 0;
  let count = 0;
  const timer = setInterval(() => {
    count++;
    current = Math.min(count * step, target);
    el.textContent = isCurrency ? fmt(current) : (Math.round(current) + suffix);
    if (count >= steps) clearInterval(timer);
  }, duration / steps);
}

function calculate() {
  const variationsPerMonth = parseInt(sliders.variations.value);
  const avgValue = parseInt(sliders.value.value);
  const agreementPct = parseInt(sliders.agreement.value) / 100;
  const disputePct = parseInt(sliders.dispute.value) / 100;

  const annualVariations = variationsPerMonth * 12;
  const annualThroughput = annualVariations * avgValue;
  const unagreedPct = 1 - agreementPct;
  const unagreedAnnual = annualThroughput * unagreedPct;
  const annualLoss = unagreedAnnual * disputePct;

  // Conservative recovery: assume 70% of currently-lost amount can be recovered with documentation
  const recoverable = annualLoss * 0.70;
  const roiRatio = recoverable / VARIATION_SHIELD_ANNUAL;

  // Reveal results
  results.section.classList.add('visible');

  // Animate numbers
  animateCount(results.revenueAtRisk, annualThroughput);
  animateCount(results.currentLeakage, annualLoss);
  animateCount(results.recoverable, recoverable);
  animateCount(results.roiRecoverable, recoverable);
  animateCount(results.totalLeakage, annualLoss);

  // ROI ratio
  if (roiRatio >= 1) {
    results.roiRatio.textContent = roiRatio.toFixed(1) + '√ó';
    results.roiRatio.className = 'roi-item-value positive';
    if (roiRatio >= 10) {
      results.roiConclusion.textContent = `Every dollar you spend on Variation Shield returns ${roiRatio.toFixed(0)}√ó in recoverable revenue.`;
    } else if (roiRatio >= 3) {
      results.roiConclusion.textContent = `Variation Shield pays for itself ${roiRatio.toFixed(1)}√ó over in the first year.`;
    } else {
      results.roiConclusion.textContent = 'Variation Shield pays for itself.';
    }
    results.roiConclusion.style.color = 'var(--green)';
  } else if (annualLoss < 500) {
    results.roiRatio.textContent = '‚Äî';
    results.roiRatio.className = 'roi-item-value neutral';
    results.roiConclusion.textContent = 'Adjust your sliders ‚Äî most subcontractors see higher leakage.';
    results.roiConclusion.style.color = 'var(--text-secondary)';
  } else {
    results.roiRatio.textContent = roiRatio.toFixed(1) + '√ó';
    results.roiRatio.className = 'roi-item-value amber';
    results.roiConclusion.textContent = 'Variation Shield approaches break-even quickly as your rate improves.';
    results.roiConclusion.style.color = 'var(--amber)';
  }
}

// Update slider display labels
sliders.variations.addEventListener('input', function () {
  const v = parseInt(this.value);
  displays.variations.textContent = `${v} variation${v !== 1 ? 's' : ''}/month`;
  calculate();
});

sliders.value.addEventListener('input', function () {
  displays.value.textContent = fmt(parseInt(this.value));
  calculate();
});

sliders.agreement.addEventListener('input', function () {
  displays.agreement.textContent = `${this.value}% pre-agreed`;
  calculate();
});

sliders.dispute.addEventListener('input', function () {
  displays.dispute.textContent = `${this.value}% get disputed`;
  calculate();
});

// Initial run
setTimeout(calculate, 400);

// ‚îÄ‚îÄ‚îÄ REVEAL OBSERVER ‚îÄ‚îÄ‚îÄ //
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      observer.unobserve(entry.target);
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -40px 0px' });

document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

// ‚îÄ‚îÄ‚îÄ SHARE FUNCTIONS ‚îÄ‚îÄ‚îÄ //
function shareLinkedIn() {
  const leakage = document.getElementById('currentLeakage').textContent;
  const text = encodeURIComponent(
    `I just ran a quick calculation and found out our business might be losing ${leakage} a year to undocumented variations.\n\nThis free calculator shows you the real number for your business:\nhttps://leveragedsystems.com.au/calculator.html\n\n#construction #subcontractors #variations`
  );
  window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent('https://leveragedsystems.com.au/calculator.html')}`, '_blank');
}

function copyLink() {
  navigator.clipboard.writeText('https://leveragedsystems.com.au/calculator.html').then(() => {
    const toast = document.getElementById('copyToast');
    toast.style.display = 'block';
    setTimeout(() => { toast.style.display = 'none'; }, 3000);
  });
}

// ‚îÄ‚îÄ‚îÄ MOBILE MENU ‚îÄ‚îÄ‚îÄ //
function toggleMobileMenu() {
  const menu = document.getElementById('mobileMenu');
  const btn = document.querySelector('.nav-hamburger');
  menu.classList.toggle('open');
  btn.classList.toggle('open');
}
</script>

</body>
</html>
